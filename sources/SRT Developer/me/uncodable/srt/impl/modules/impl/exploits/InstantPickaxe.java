package me.uncodable.srt.impl.modules.impl.exploits;

import java.util.Calendar;
import me.uncodable.srt.Ries;
import me.uncodable.srt.impl.modules.api.Module;
import me.uncodable.srt.impl.modules.api.ModuleInfo;
import me.uncodable.srt.impl.modules.api.settings.Setting;
import net.minecraft.init.Items;
import net.minecraft.item.ItemStack;
import net.minecraft.nbt.NBTTagCompound;
import net.minecraft.nbt.NBTTagInt;
import net.minecraft.nbt.NBTTagList;
import net.minecraft.nbt.NBTTagString;
import net.minecraft.network.play.client.C10PacketCreativeInventoryAction;

@ModuleInfo(
   internalName = "InstantPickaxe",
   name = "Instant Pickaxe",
   desc = "Allows you to spawn in a pickaxe stolen from TitanMC!",
   category = Module.Category.EXPLOIT,
   legit = true
)
public class InstantPickaxe extends Module {
   private static final String INTERNAL_BYPASS = "INTERNAL_BYPASS";
   private static final String BYPASS_SETTING_NAME = "Attempt Without Creative";

   public InstantPickaxe(int key, boolean enabled) {
      super(key, enabled);
      Ries.INSTANCE.getSettingManager().addCheckbox(this, "INTERNAL_BYPASS", "Attempt Without Creative");
   }

   @Override
   public void onEnable() {
      if (!MC.thePlayer.capabilities.isCreativeMode
         && !Ries.INSTANCE.getSettingManager().getSetting(this, "INTERNAL_BYPASS", Setting.Type.CHECKBOX).isTicked()) {
         Ries.INSTANCE.msg("You must be in creative mode to use this module.");
      } else {
         ItemStack stack = new ItemStack(Items.diamond_pickaxe);
         stack.setItemDamage(0);
         NBTTagList data = new NBTTagList();
         NBTTagCompound enchants = new NBTTagCompound();
         enchants.setShort("id", (short)0);
         enchants.setShort("lvl", (short)32767);
         NBTTagCompound enchants1 = new NBTTagCompound();
         enchants1.setShort("id", (short)1);
         enchants1.setShort("lvl", (short)32767);
         NBTTagCompound enchants2 = new NBTTagCompound();
         enchants2.setShort("id", (short)2);
         enchants2.setShort("lvl", (short)32767);
         NBTTagCompound enchants3 = new NBTTagCompound();
         enchants3.setShort("id", (short)3);
         enchants3.setShort("lvl", (short)32767);
         NBTTagCompound enchants4 = new NBTTagCompound();
         enchants4.setShort("id", (short)4);
         enchants4.setShort("lvl", (short)32767);
         NBTTagCompound enchants5 = new NBTTagCompound();
         enchants5.setShort("id", (short)5);
         enchants5.setShort("lvl", (short)32767);
         NBTTagCompound enchants6 = new NBTTagCompound();
         enchants6.setShort("id", (short)6);
         enchants6.setShort("lvl", (short)32767);
         NBTTagCompound enchants7 = new NBTTagCompound();
         enchants7.setShort("id", (short)7);
         enchants7.setShort("lvl", (short)32767);
         NBTTagCompound enchants8 = new NBTTagCompound();
         enchants8.setShort("id", (short)16);
         enchants8.setShort("lvl", (short)32767);
         NBTTagCompound enchants9 = new NBTTagCompound();
         enchants9.setShort("id", (short)17);
         enchants9.setShort("lvl", (short)32767);
         NBTTagCompound enchants10 = new NBTTagCompound();
         enchants10.setShort("id", (short)18);
         enchants10.setShort("lvl", (short)32767);
         NBTTagCompound enchants11 = new NBTTagCompound();
         enchants11.setShort("id", (short)19);
         enchants11.setShort("lvl", (short)32767);
         NBTTagCompound enchants12 = new NBTTagCompound();
         enchants12.setShort("id", (short)20);
         enchants12.setShort("lvl", (short)32767);
         NBTTagCompound enchants13 = new NBTTagCompound();
         enchants13.setShort("id", (short)21);
         enchants13.setShort("lvl", (short)32767);
         NBTTagCompound enchants14 = new NBTTagCompound();
         enchants14.setShort("id", (short)32);
         enchants14.setShort("lvl", (short)32767);
         NBTTagCompound enchants15 = new NBTTagCompound();
         enchants15.setShort("id", (short)34);
         enchants15.setShort("lvl", (short)32767);
         NBTTagCompound enchants16 = new NBTTagCompound();
         enchants16.setShort("id", (short)35);
         enchants16.setShort("lvl", (short)32767);
         NBTTagCompound enchants17 = new NBTTagCompound();
         enchants17.setShort("id", (short)48);
         enchants17.setShort("lvl", (short)32767);
         NBTTagCompound enchants18 = new NBTTagCompound();
         enchants18.setShort("id", (short)49);
         enchants18.setShort("lvl", (short)32767);
         NBTTagCompound enchants19 = new NBTTagCompound();
         enchants19.setShort("id", (short)50);
         enchants19.setShort("lvl", (short)32767);
         NBTTagCompound enchants20 = new NBTTagCompound();
         enchants20.setShort("id", (short)51);
         enchants20.setShort("lvl", (short)32767);
         data.appendTag(enchants);
         data.appendTag(enchants1);
         data.appendTag(enchants2);
         data.appendTag(enchants3);
         data.appendTag(enchants4);
         data.appendTag(enchants5);
         data.appendTag(enchants6);
         data.appendTag(enchants7);
         data.appendTag(enchants8);
         data.appendTag(enchants9);
         data.appendTag(enchants10);
         data.appendTag(enchants11);
         data.appendTag(enchants12);
         data.appendTag(enchants13);
         data.appendTag(enchants14);
         data.appendTag(enchants15);
         data.appendTag(enchants16);
         data.appendTag(enchants17);
         data.appendTag(enchants18);
         data.appendTag(enchants19);
         data.appendTag(enchants20);
         NBTTagCompound display = new NBTTagCompound();
         NBTTagList lore = new NBTTagList();
         lore.appendTag(new NBTTagString("§7Rarity: §4§lOP+§r"));
         lore.appendTag(new NBTTagString("§7Unbreakable§r"));
         lore.appendTag(new NBTTagString("§7Acrobat 2§r"));
         lore.appendTag(new NBTTagString("§7NoDrop§r"));
         lore.appendTag(new NBTTagString("§7Fortune 50§r"));
         lore.appendTag(new NBTTagString("§7Efficiency 10§r"));
         lore.appendTag(new NBTTagString("§7Unenchantable§r"));
         lore.appendTag(new NBTTagString("§7Speed 2§r"));
         lore.appendTag(new NBTTagString("§7Explosive 2§r"));
         lore.appendTag(new NBTTagString(""));
         lore.appendTag(new NBTTagString("§8[§cNote§8]§7 Created by:"));
         lore.appendTag(new NBTTagString("§bSRT Hellcat Client §7on §b" + Calendar.getInstance().getTime()));
         display.setTag("Lore", lore);
         stack.setTagInfo("display", display);
         stack.setTagInfo("display", display);
         stack.setTagInfo("ench", data);
         stack.setTagInfo("Unbreakable", new NBTTagInt(1));
         stack.setTagInfo("HideFlags", new NBTTagInt(53));
         stack.setStackDisplayName("§4§lE§4§lx§4§lp§4§ll§4§lo§4§ls§4§li§4§lv§4§le §4§lP§4§li§4§lc§4§lk§4§la§4§lx§4§le");
         MC.thePlayer.sendQueue.addToSendQueue(new C10PacketCreativeInventoryAction(36, stack));
      }

      this.toggle();
   }
}
