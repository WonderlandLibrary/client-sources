package com.alan.clients.module.impl.exploit;

import com.alan.clients.event.Listener;
import com.alan.clients.event.annotations.EventLink;
import com.alan.clients.event.impl.motion.PreMotionEvent;
import com.alan.clients.event.impl.packet.PacketReceiveEvent;
import com.alan.clients.module.Module;
import com.alan.clients.module.api.Category;
import com.alan.clients.module.api.ModuleInfo;
import com.alan.clients.value.impl.BooleanValue;
import net.minecraft.network.Packet;

@ModuleInfo(aliases = {"module.combat.staffdetector.name"}, description = "module.exploit.staffdetector.description", category = Category.EXPLOIT)
public class StaffDetector extends Module {

    BooleanValue autoLeave = new BooleanValue("Auto Leave", this, true);

    private String[] staff;

    private int count;

    public StaffDetector() {
        String input = "idhoom,7so,1sweet,jinaaan,ev2n,eissaa,mohmad_q8,1daykel,ximtaig_,nshme,comsterr,e9_,1meko,1lab,mk_f16,loovq,_sadeq,nv0ola,1f5amh___3oo,frecss217,xmz7,a2bod,eyeso_diamond,bunkrat,1rana,1ahmd,1heyimhasson_,casteret,1elyy,1zeyad,lt1x,firas,postme,3mmr,xl2d,yzed,y2men,iv2a,_nonameishere_,0hfault,deficency,anauri,xluffy1,kinderbueno__,_revoox_,xidayzer,i7ilin,1adam__,27bk,ventz_,awfultimes,ahm2d,gsomar,mvp11,xxkhaledxxcraft,aymann_,1iraqi,rambokinq,undertest,zswift,strongest0ne,neverletyouknow,zixgamer,sanfoor_j,ixghoul_,imbexsl_,glowdown_,hunter47,fexoranep,1reyleigh,420waffle,ywgiz,sweetyalice,xfahadq,mr3nb_,akash1004,zaytonaaa,rma7o,mr_1990,iali_305,wacros,lwwh,pynifical,rivsci,itsjuan_,meedo_qb,_r3,1speedo_,_justidk,505t,xzvv,mauveracer,_1hypersx_,rayqquaza,swivee,absqtulate,opgaming2009,vhagardracarys,luffy404,faisaal420,hdzt,sunsnipebeastwtf,_odex,1ashu,n13m_,callinu,sh59,drnyx,iisrab5bgii,haoeris,lxrayanxl,toxiclayer,greatm7md,brksfrb2,madix707,hnxrr,1sweetty,ohhhhqls,solidfying,_i_b,escoco,dreadpirater0b,aboshxm,0ryze,spuvr,va_1,kingpvp90,rieus,prebowed,mitsichu,gogglas,battlebay,32lbo,7far_8bor,evenfai,hlazny,valrm";

        staff = input.split(",");
    }

    @EventLink
    public final Listener<PreMotionEvent> onPreMotion = event -> {
        count = Math.max(0, count - 1);
    };

    @EventLink
    public final Listener<PacketReceiveEvent> onPacketReceive = event -> {
        Packet<?> packet = event.getPacket();

//        if (packet instanceof S3EPacketTeams) {
//            final S3EPacketTeams teams = (S3EPacketTeams) packet;
//
//            for (final String name : teams.func_149310_g()) {
//                if (Arrays.asList(staff).contains(name.toLowerCase())) {
//                    count++;
//
//                    if (count == 6) {
//                        ChatUtil.display("Staff Detected " + name);
//
//                        if (autoLeave.getValue()) PacketUtil.send(new C01PacketChatMessage("/hub"));
//                    }
//                }
//            }
//        }

//        if (packet instanceof S38PacketPlayerListItem) {
//            S38PacketPlayerListItem item = ((S38PacketPlayerListItem) packet);
//
//            for (S38PacketPlayerListItem.AddPlayerData player : item.func_179767_a()) {
//                if (player == null || player.getProfile() == null || player.getProfile().getName() == null) {
//                    continue;
//                } else if (!player.getProfile().getName().equals("SHOP") && !player.getProfile().getName().equals("UPGRADES")) {
//                    ChatUtil.display("Username: " + player.getProfile().getName());
//                }
//
//                if (Arrays.asList(staff).contains(player.getProfile().getName().toLowerCase())) {
//                    ChatUtil.display("Staff Detected " + player.getProfile().getName());
//
//                    if (autoLeave.getValue()) PacketUtil.send(new C01PacketChatMessage("/hub"));
//                }
//            }
//        }

//        if (packet instanceof S) {
//            S06PacketUpdateHealth health = ((S06PacketUpdateHealth) packet);
//
//        }
    };
}
